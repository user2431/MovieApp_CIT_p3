{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ivans\\\\Desktop\\\\Roskilde\\\\7th sem\\\\Complex IT systems\\\\exam\\\\3rd-main\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport axios from \"axios\";\nimport { BrowserRouter as Router, Routes, Route, Navigate } from \"react-router-dom\";\nimport Login from \"./components/Login\";\nimport Register from \"./components/Register\";\nimport SearchBar from \"./components/Searchbar\";\nimport UserProfile from \"./components/UserProfile\";\nimport SearchResults from \"./components/SearchResults\";\nimport ActorDetails from \"./components/ActorDetail\";\nimport MovieDetails from \"./components/MovieDetails\";\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  const [isAuthenticated, setIsAuthenticated] = useState(false); // Tracks login state\n  const [userData, setUserData] = useState(null); // Holds user data post-login\n  const [searchBy, setSearchBy] = useState(\"Movies\");\n  const [searchInput, setSearchInput] = useState(\"\");\n  const [searchResults, setSearchResults] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [selectedMovie, setSelectedMovie] = useState(null);\n  const [selectedActor, setSelectedActor] = useState(null);\n  const [actorMovies, setActorMovies] = useState([]);\n  const [actorImages, setActorImages] = useState([]);\n  const [isPopupVisible, setIsPopupVisible] = useState(false);\n  const [isClosing, setIsClosing] = useState(false);\n  const [searchHistory, setSearchHistory] = useState([]);\n  const [UserRating, setUserRating] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [passwordUpdateError, setPasswordUpdateError] = useState(\"\");\n  const user_id = 1;\n  const apiKey = \"b5987557d1737fe1b74313c3201f2152\";\n  const popupRef = useRef(null);\n  const handleLogin = async (username, password) => {\n    try {\n      const response = await axios.post(\"http://localhost:5000/api/User/login\", {\n        Username: username,\n        Password: password\n      });\n      setIsAuthenticated(true);\n      setUserData(response.data); // Assuming user data is returned\n    } catch (error) {\n      alert(\"Login failed. Please check your credentials and try again.\");\n    }\n  };\n  const handleRegister = async formData => {\n    try {\n      await axios.post(\"http://localhost:5000/api/User\", formData);\n      alert(\"Registration successful! You can now log in.\");\n    } catch (error) {\n      alert(\"Registration failed. Please try again.\");\n    }\n  };\n  const handleLogout = () => {\n    setIsAuthenticated(false);\n    setUserData(null);\n  };\n  useEffect(() => {\n    if (isAuthenticated) {\n      fetchUserData();\n      fetchSearchHistory();\n      fetchUserRating();\n    }\n    const closePopupOnEscape = e => {\n      if (e.key === \"Escape\") {\n        setIsPopupVisible(false);\n      }\n    };\n    const closePopupOnClickOutside = e => {\n      if (popupRef.current && !popupRef.current.contains(e.target)) {\n        setIsPopupVisible(false);\n      }\n    };\n    document.addEventListener(\"keydown\", closePopupOnEscape);\n    document.addEventListener(\"click\", closePopupOnClickOutside);\n    return () => {\n      document.removeEventListener(\"keydown\", closePopupOnEscape);\n      document.removeEventListener(\"click\", closePopupOnClickOutside);\n    };\n  }, [isAuthenticated]);\n  const fetchUserData = async () => {\n    setIsLoading(true);\n    try {\n      const response = await axios.get(`http://localhost:5000/api/postgres/user_info`);\n      setUserData(Array.isArray(response.data) ? response.data[0] : response.data);\n    } catch (error) {\n      console.error(\"Error fetching user data:\", error);\n      alert(\"Unable to load user details. Please try again.\");\n    }\n    setIsLoading(false);\n  };\n  const fetchSearchHistory = async () => {\n    setIsLoading(true);\n    try {\n      const response = await axios.get(`http://localhost:5000/api/postgres/search_history`);\n      setSearchHistory(Array.isArray(response.data) ? response.data : []);\n    } catch (error) {\n      console.error(\"Error fetching search history:\", error);\n      alert(\"Unable to load search history. Please try again.\");\n    }\n    setIsLoading(false);\n  };\n  const fetchUserRating = async () => {\n    setIsLoading(true);\n    try {\n      const response = await axios.get(`http://localhost:5000/api/postgres/user_rating`);\n      setUserRating(Array.isArray(response.data) ? response.data : []);\n    } catch (error) {\n      console.error(\"Error fetching user rating:\", error);\n      alert(\"Unable to load user rating. Please try again.\");\n    }\n    setIsLoading(false);\n  };\n  const handleActorClick = async actorId => {\n    setIsLoading(true);\n    try {\n      const moviesResponse = await axios.get(`https://api.themoviedb.org/3/person/${actorId}/movie_credits?api_key=${apiKey}`);\n      setActorMovies(moviesResponse.data.cast.slice(0, 5));\n      const imagesResponse = await axios.get(`https://api.themoviedb.org/3/person/${actorId}/images?api_key=${apiKey}`);\n      setActorImages(imagesResponse.data.profiles.slice(0, 5));\n      const actorResponse = await axios.get(`https://api.themoviedb.org/3/person/${actorId}?api_key=${apiKey}`);\n      setSelectedActor(actorResponse.data);\n    } catch (error) {\n      console.error(\"Error fetching actor details:\", error);\n      alert(\"An error occurred while fetching actor details.\");\n    }\n    setIsLoading(false);\n  };\n  const handleSearch = async () => {\n    setCurrentPage(1);\n    setIsLoading(true);\n    try {\n      let apiUrl = \"\";\n      if (searchBy === \"Movies\") {\n        apiUrl = `https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&query=${searchInput}&page=1`;\n      } else if (searchBy === \"Actor\") {\n        apiUrl = `https://api.themoviedb.org/3/search/person?api_key=${apiKey}&query=${searchInput}&page=1`;\n      } else if (searchBy === \"Released Year\") {\n        apiUrl = `https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&primary_release_year=${searchInput}&page=1`;\n      } else {\n        alert(\"Please select a valid search criteria.\");\n        return;\n      }\n      const response = await axios.get(apiUrl);\n      const results = response.data.results;\n      if (results.length > 0) {\n        setSearchResults(results);\n      } else {\n        setSearchResults([]);\n        alert(\"No results found.\");\n      }\n    } catch (error) {\n      console.error(\"Error fetching data\", error);\n      alert(\"An error occurred while searching. Please try again.\");\n    }\n    setIsLoading(false);\n  };\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(Routes, {\n      children: !isAuthenticated ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/login\",\n            replace: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 38\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/login\",\n          element: /*#__PURE__*/_jsxDEV(Login, {\n            onLogin: handleLogin\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 43\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/register\",\n          element: /*#__PURE__*/_jsxDEV(Register, {\n            onRegister: handleRegister\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 46\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"app\",\n          children: [/*#__PURE__*/_jsxDEV(\"header\", {\n            children: [/*#__PURE__*/_jsxDEV(SearchBar, {\n              searchBy: searchBy,\n              searchInput: searchInput,\n              handleSearch: handleSearch,\n              setSearchBy: setSearchBy\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleLogout,\n              children: \"Logout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(SearchResults, {\n            searchResults: searchResults,\n            handleActorClick: handleActorClick,\n            handleMovieClick: setSelectedMovie\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(ActorDetails, {\n            selectedActor: selectedActor,\n            actorImages: actorImages,\n            actorMovies: actorMovies\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(MovieDetails, {\n            selectedMovie: selectedMovie,\n            closeMovieDetails: () => setSelectedMovie(null)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 187,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"/i9pbHMICvskZH7fgnS6SZsKxaI=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","axios","BrowserRouter","Router","Routes","Route","Navigate","Login","Register","SearchBar","UserProfile","SearchResults","ActorDetails","MovieDetails","jsxDEV","_jsxDEV","Fragment","_Fragment","App","_s","isAuthenticated","setIsAuthenticated","userData","setUserData","searchBy","setSearchBy","searchInput","setSearchInput","searchResults","setSearchResults","currentPage","setCurrentPage","selectedMovie","setSelectedMovie","selectedActor","setSelectedActor","actorMovies","setActorMovies","actorImages","setActorImages","isPopupVisible","setIsPopupVisible","isClosing","setIsClosing","searchHistory","setSearchHistory","UserRating","setUserRating","isLoading","setIsLoading","newPassword","setNewPassword","confirmPassword","setConfirmPassword","passwordUpdateError","setPasswordUpdateError","user_id","apiKey","popupRef","handleLogin","username","password","response","post","Username","Password","data","error","alert","handleRegister","formData","handleLogout","fetchUserData","fetchSearchHistory","fetchUserRating","closePopupOnEscape","e","key","closePopupOnClickOutside","current","contains","target","document","addEventListener","removeEventListener","get","Array","isArray","console","handleActorClick","actorId","moviesResponse","cast","slice","imagesResponse","profiles","actorResponse","handleSearch","apiUrl","results","length","children","path","element","to","replace","fileName","_jsxFileName","lineNumber","columnNumber","onLogin","onRegister","className","onClick","handleMovieClick","closeMovieDetails","_c","$RefreshReg$"],"sources":["C:/Users/ivans/Desktop/Roskilde/7th sem/Complex IT systems/exam/3rd-main/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\nimport axios from \"axios\";\nimport { BrowserRouter as Router, Routes, Route, Navigate } from \"react-router-dom\";\nimport Login from \"./components/Login\";\nimport Register from \"./components/Register\";\nimport SearchBar from \"./components/Searchbar\";\nimport UserProfile from \"./components/UserProfile\";\nimport SearchResults from \"./components/SearchResults\";\nimport ActorDetails from \"./components/ActorDetail\";\nimport MovieDetails from \"./components/MovieDetails\";\nimport \"./App.css\";\n\nconst App = () => {\n  const [isAuthenticated, setIsAuthenticated] = useState(false); // Tracks login state\n  const [userData, setUserData] = useState(null); // Holds user data post-login\n  const [searchBy, setSearchBy] = useState(\"Movies\");\n  const [searchInput, setSearchInput] = useState(\"\");\n  const [searchResults, setSearchResults] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [selectedMovie, setSelectedMovie] = useState(null);\n  const [selectedActor, setSelectedActor] = useState(null);\n  const [actorMovies, setActorMovies] = useState([]);\n  const [actorImages, setActorImages] = useState([]);\n  const [isPopupVisible, setIsPopupVisible] = useState(false);\n  const [isClosing, setIsClosing] = useState(false);\n  const [searchHistory, setSearchHistory] = useState([]);\n  const [UserRating, setUserRating] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const [newPassword, setNewPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [passwordUpdateError, setPasswordUpdateError] = useState(\"\");\n\n  const user_id = 1;\n  const apiKey = \"b5987557d1737fe1b74313c3201f2152\";\n  const popupRef = useRef(null);\n\n  const handleLogin = async (username, password) => {\n    try {\n      const response = await axios.post(\"http://localhost:5000/api/User/login\", {\n        Username: username,\n        Password: password,\n      });\n      setIsAuthenticated(true);\n      setUserData(response.data); // Assuming user data is returned\n    } catch (error) {\n      alert(\"Login failed. Please check your credentials and try again.\");\n    }\n  };\n\n  const handleRegister = async (formData) => {\n    try {\n      await axios.post(\"http://localhost:5000/api/User\", formData);\n      alert(\"Registration successful! You can now log in.\");\n    } catch (error) {\n      alert(\"Registration failed. Please try again.\");\n    }\n  };\n\n  const handleLogout = () => {\n    setIsAuthenticated(false);\n    setUserData(null);\n  };\n\n  useEffect(() => {\n    if (isAuthenticated) {\n      fetchUserData();\n      fetchSearchHistory();\n      fetchUserRating();\n    }\n\n    const closePopupOnEscape = (e) => {\n      if (e.key === \"Escape\") {\n        setIsPopupVisible(false);\n      }\n    };\n\n    const closePopupOnClickOutside = (e) => {\n      if (popupRef.current && !popupRef.current.contains(e.target)) {\n        setIsPopupVisible(false);\n      }\n    };\n\n    document.addEventListener(\"keydown\", closePopupOnEscape);\n    document.addEventListener(\"click\", closePopupOnClickOutside);\n\n    return () => {\n      document.removeEventListener(\"keydown\", closePopupOnEscape);\n      document.removeEventListener(\"click\", closePopupOnClickOutside);\n    };\n  }, [isAuthenticated]);\n\n  const fetchUserData = async () => {\n    setIsLoading(true);\n    try {\n      const response = await axios.get(`http://localhost:5000/api/postgres/user_info`);\n      setUserData(Array.isArray(response.data) ? response.data[0] : response.data);\n    } catch (error) {\n      console.error(\"Error fetching user data:\", error);\n      alert(\"Unable to load user details. Please try again.\");\n    }\n    setIsLoading(false);\n  };\n\n  const fetchSearchHistory = async () => {\n    setIsLoading(true);\n    try {\n      const response = await axios.get(`http://localhost:5000/api/postgres/search_history`);\n      setSearchHistory(Array.isArray(response.data) ? response.data : []);\n    } catch (error) {\n      console.error(\"Error fetching search history:\", error);\n      alert(\"Unable to load search history. Please try again.\");\n    }\n    setIsLoading(false);\n  };\n\n  const fetchUserRating = async () => {\n    setIsLoading(true);\n    try {\n      const response = await axios.get(`http://localhost:5000/api/postgres/user_rating`);\n      setUserRating(Array.isArray(response.data) ? response.data : []);\n    } catch (error) {\n      console.error(\"Error fetching user rating:\", error);\n      alert(\"Unable to load user rating. Please try again.\");\n    }\n    setIsLoading(false);\n  };\n\n  const handleActorClick = async (actorId) => {\n    setIsLoading(true);\n    try {\n      const moviesResponse = await axios.get(\n        `https://api.themoviedb.org/3/person/${actorId}/movie_credits?api_key=${apiKey}`\n      );\n      setActorMovies(moviesResponse.data.cast.slice(0, 5));\n\n      const imagesResponse = await axios.get(\n        `https://api.themoviedb.org/3/person/${actorId}/images?api_key=${apiKey}`\n      );\n      setActorImages(imagesResponse.data.profiles.slice(0, 5));\n\n      const actorResponse = await axios.get(\n        `https://api.themoviedb.org/3/person/${actorId}?api_key=${apiKey}`\n      );\n      setSelectedActor(actorResponse.data);\n    } catch (error) {\n      console.error(\"Error fetching actor details:\", error);\n      alert(\"An error occurred while fetching actor details.\");\n    }\n    setIsLoading(false);\n  };\n\n  const handleSearch = async () => {\n    setCurrentPage(1);\n    setIsLoading(true);\n    try {\n      let apiUrl = \"\";\n\n      if (searchBy === \"Movies\") {\n        apiUrl = `https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&query=${searchInput}&page=1`;\n      } else if (searchBy === \"Actor\") {\n        apiUrl = `https://api.themoviedb.org/3/search/person?api_key=${apiKey}&query=${searchInput}&page=1`;\n      } else if (searchBy === \"Released Year\") {\n        apiUrl = `https://api.themoviedb.org/3/discover/movie?api_key=${apiKey}&primary_release_year=${searchInput}&page=1`;\n      } else {\n        alert(\"Please select a valid search criteria.\");\n        return;\n      }\n\n      const response = await axios.get(apiUrl);\n      const results = response.data.results;\n\n      if (results.length > 0) {\n        setSearchResults(results);\n      } else {\n        setSearchResults([]);\n        alert(\"No results found.\");\n      }\n    } catch (error) {\n      console.error(\"Error fetching data\", error);\n      alert(\"An error occurred while searching. Please try again.\");\n    }\n    setIsLoading(false);\n  };\n\n  return (\n    <Router>\n      <Routes>\n        {!isAuthenticated ? (\n          <>\n            <Route path=\"/\" element={<Navigate to=\"/login\" replace />} />\n            <Route path=\"/login\" element={<Login onLogin={handleLogin} />} />\n            <Route path=\"/register\" element={<Register onRegister={handleRegister} />} />\n          </>\n        ) : (\n          <Route\n            path=\"/\"\n            element={\n              <div className=\"app\">\n                <header>\n                  <SearchBar\n                    searchBy={searchBy}\n                    searchInput={searchInput}\n                    handleSearch={handleSearch}\n                    setSearchBy={setSearchBy}\n                  />\n                  <button onClick={handleLogout}>Logout</button>\n                </header>\n                <SearchResults\n                  searchResults={searchResults}\n                  handleActorClick={handleActorClick}\n                  handleMovieClick={setSelectedMovie}\n                />\n                <ActorDetails\n                  selectedActor={selectedActor}\n                  actorImages={actorImages}\n                  actorMovies={actorMovies}\n                />\n                <MovieDetails\n                  selectedMovie={selectedMovie}\n                  closeMovieDetails={() => setSelectedMovie(null)}\n                />\n              </div>\n            }\n          />\n        )}\n      </Routes>\n    </Router>\n  );\n};\n\nexport default App;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAC1D,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,aAAa,IAAIC,MAAM,EAAEC,MAAM,EAAEC,KAAK,EAAEC,QAAQ,QAAQ,kBAAkB;AACnF,OAAOC,KAAK,MAAM,oBAAoB;AACtC,OAAOC,QAAQ,MAAM,uBAAuB;AAC5C,OAAOC,SAAS,MAAM,wBAAwB;AAC9C,OAAOC,WAAW,MAAM,0BAA0B;AAClD,OAAOC,aAAa,MAAM,4BAA4B;AACtD,OAAOC,YAAY,MAAM,0BAA0B;AACnD,OAAOC,YAAY,MAAM,2BAA2B;AACpD,OAAO,WAAW;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEnB,MAAMC,GAAG,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAChB,MAAM,CAACC,eAAe,EAAEC,kBAAkB,CAAC,GAAGvB,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;EAC/D,MAAM,CAACwB,QAAQ,EAAEC,WAAW,CAAC,GAAGzB,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC;EAChD,MAAM,CAAC0B,QAAQ,EAAEC,WAAW,CAAC,GAAG3B,QAAQ,CAAC,QAAQ,CAAC;EAClD,MAAM,CAAC4B,WAAW,EAAEC,cAAc,CAAC,GAAG7B,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAAC8B,aAAa,EAAEC,gBAAgB,CAAC,GAAG/B,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAACgC,WAAW,EAAEC,cAAc,CAAC,GAAGjC,QAAQ,CAAC,CAAC,CAAC;EACjD,MAAM,CAACkC,aAAa,EAAEC,gBAAgB,CAAC,GAAGnC,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM,CAACoC,aAAa,EAAEC,gBAAgB,CAAC,GAAGrC,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM,CAACsC,WAAW,EAAEC,cAAc,CAAC,GAAGvC,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACwC,WAAW,EAAEC,cAAc,CAAC,GAAGzC,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAAC0C,cAAc,EAAEC,iBAAiB,CAAC,GAAG3C,QAAQ,CAAC,KAAK,CAAC;EAC3D,MAAM,CAAC4C,SAAS,EAAEC,YAAY,CAAC,GAAG7C,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAAC8C,aAAa,EAAEC,gBAAgB,CAAC,GAAG/C,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAACgD,UAAU,EAAEC,aAAa,CAAC,GAAGjD,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACkD,SAAS,EAAEC,YAAY,CAAC,GAAGnD,QAAQ,CAAC,KAAK,CAAC;EAEjD,MAAM,CAACoD,WAAW,EAAEC,cAAc,CAAC,GAAGrD,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACsD,eAAe,EAAEC,kBAAkB,CAAC,GAAGvD,QAAQ,CAAC,EAAE,CAAC;EAC1D,MAAM,CAACwD,mBAAmB,EAAEC,sBAAsB,CAAC,GAAGzD,QAAQ,CAAC,EAAE,CAAC;EAElE,MAAM0D,OAAO,GAAG,CAAC;EACjB,MAAMC,MAAM,GAAG,kCAAkC;EACjD,MAAMC,QAAQ,GAAG1D,MAAM,CAAC,IAAI,CAAC;EAE7B,MAAM2D,WAAW,GAAG,MAAAA,CAAOC,QAAQ,EAAEC,QAAQ,KAAK;IAChD,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAM7D,KAAK,CAAC8D,IAAI,CAAC,sCAAsC,EAAE;QACxEC,QAAQ,EAAEJ,QAAQ;QAClBK,QAAQ,EAAEJ;MACZ,CAAC,CAAC;MACFxC,kBAAkB,CAAC,IAAI,CAAC;MACxBE,WAAW,CAACuC,QAAQ,CAACI,IAAI,CAAC,CAAC,CAAC;IAC9B,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,KAAK,CAAC,4DAA4D,CAAC;IACrE;EACF,CAAC;EAED,MAAMC,cAAc,GAAG,MAAOC,QAAQ,IAAK;IACzC,IAAI;MACF,MAAMrE,KAAK,CAAC8D,IAAI,CAAC,gCAAgC,EAAEO,QAAQ,CAAC;MAC5DF,KAAK,CAAC,8CAA8C,CAAC;IACvD,CAAC,CAAC,OAAOD,KAAK,EAAE;MACdC,KAAK,CAAC,wCAAwC,CAAC;IACjD;EACF,CAAC;EAED,MAAMG,YAAY,GAAGA,CAAA,KAAM;IACzBlD,kBAAkB,CAAC,KAAK,CAAC;IACzBE,WAAW,CAAC,IAAI,CAAC;EACnB,CAAC;EAEDxB,SAAS,CAAC,MAAM;IACd,IAAIqB,eAAe,EAAE;MACnBoD,aAAa,CAAC,CAAC;MACfC,kBAAkB,CAAC,CAAC;MACpBC,eAAe,CAAC,CAAC;IACnB;IAEA,MAAMC,kBAAkB,GAAIC,CAAC,IAAK;MAChC,IAAIA,CAAC,CAACC,GAAG,KAAK,QAAQ,EAAE;QACtBpC,iBAAiB,CAAC,KAAK,CAAC;MAC1B;IACF,CAAC;IAED,MAAMqC,wBAAwB,GAAIF,CAAC,IAAK;MACtC,IAAIlB,QAAQ,CAACqB,OAAO,IAAI,CAACrB,QAAQ,CAACqB,OAAO,CAACC,QAAQ,CAACJ,CAAC,CAACK,MAAM,CAAC,EAAE;QAC5DxC,iBAAiB,CAAC,KAAK,CAAC;MAC1B;IACF,CAAC;IAEDyC,QAAQ,CAACC,gBAAgB,CAAC,SAAS,EAAER,kBAAkB,CAAC;IACxDO,QAAQ,CAACC,gBAAgB,CAAC,OAAO,EAAEL,wBAAwB,CAAC;IAE5D,OAAO,MAAM;MACXI,QAAQ,CAACE,mBAAmB,CAAC,SAAS,EAAET,kBAAkB,CAAC;MAC3DO,QAAQ,CAACE,mBAAmB,CAAC,OAAO,EAAEN,wBAAwB,CAAC;IACjE,CAAC;EACH,CAAC,EAAE,CAAC1D,eAAe,CAAC,CAAC;EAErB,MAAMoD,aAAa,GAAG,MAAAA,CAAA,KAAY;IAChCvB,YAAY,CAAC,IAAI,CAAC;IAClB,IAAI;MACF,MAAMa,QAAQ,GAAG,MAAM7D,KAAK,CAACoF,GAAG,CAAC,8CAA8C,CAAC;MAChF9D,WAAW,CAAC+D,KAAK,CAACC,OAAO,CAACzB,QAAQ,CAACI,IAAI,CAAC,GAAGJ,QAAQ,CAACI,IAAI,CAAC,CAAC,CAAC,GAAGJ,QAAQ,CAACI,IAAI,CAAC;IAC9E,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdqB,OAAO,CAACrB,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;MACjDC,KAAK,CAAC,gDAAgD,CAAC;IACzD;IACAnB,YAAY,CAAC,KAAK,CAAC;EACrB,CAAC;EAED,MAAMwB,kBAAkB,GAAG,MAAAA,CAAA,KAAY;IACrCxB,YAAY,CAAC,IAAI,CAAC;IAClB,IAAI;MACF,MAAMa,QAAQ,GAAG,MAAM7D,KAAK,CAACoF,GAAG,CAAC,mDAAmD,CAAC;MACrFxC,gBAAgB,CAACyC,KAAK,CAACC,OAAO,CAACzB,QAAQ,CAACI,IAAI,CAAC,GAAGJ,QAAQ,CAACI,IAAI,GAAG,EAAE,CAAC;IACrE,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdqB,OAAO,CAACrB,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;MACtDC,KAAK,CAAC,kDAAkD,CAAC;IAC3D;IACAnB,YAAY,CAAC,KAAK,CAAC;EACrB,CAAC;EAED,MAAMyB,eAAe,GAAG,MAAAA,CAAA,KAAY;IAClCzB,YAAY,CAAC,IAAI,CAAC;IAClB,IAAI;MACF,MAAMa,QAAQ,GAAG,MAAM7D,KAAK,CAACoF,GAAG,CAAC,gDAAgD,CAAC;MAClFtC,aAAa,CAACuC,KAAK,CAACC,OAAO,CAACzB,QAAQ,CAACI,IAAI,CAAC,GAAGJ,QAAQ,CAACI,IAAI,GAAG,EAAE,CAAC;IAClE,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdqB,OAAO,CAACrB,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;MACnDC,KAAK,CAAC,+CAA+C,CAAC;IACxD;IACAnB,YAAY,CAAC,KAAK,CAAC;EACrB,CAAC;EAED,MAAMwC,gBAAgB,GAAG,MAAOC,OAAO,IAAK;IAC1CzC,YAAY,CAAC,IAAI,CAAC;IAClB,IAAI;MACF,MAAM0C,cAAc,GAAG,MAAM1F,KAAK,CAACoF,GAAG,CACpC,uCAAuCK,OAAO,0BAA0BjC,MAAM,EAChF,CAAC;MACDpB,cAAc,CAACsD,cAAc,CAACzB,IAAI,CAAC0B,IAAI,CAACC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;MAEpD,MAAMC,cAAc,GAAG,MAAM7F,KAAK,CAACoF,GAAG,CACpC,uCAAuCK,OAAO,mBAAmBjC,MAAM,EACzE,CAAC;MACDlB,cAAc,CAACuD,cAAc,CAAC5B,IAAI,CAAC6B,QAAQ,CAACF,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;MAExD,MAAMG,aAAa,GAAG,MAAM/F,KAAK,CAACoF,GAAG,CACnC,uCAAuCK,OAAO,YAAYjC,MAAM,EAClE,CAAC;MACDtB,gBAAgB,CAAC6D,aAAa,CAAC9B,IAAI,CAAC;IACtC,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdqB,OAAO,CAACrB,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;MACrDC,KAAK,CAAC,iDAAiD,CAAC;IAC1D;IACAnB,YAAY,CAAC,KAAK,CAAC;EACrB,CAAC;EAED,MAAMgD,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/BlE,cAAc,CAAC,CAAC,CAAC;IACjBkB,YAAY,CAAC,IAAI,CAAC;IAClB,IAAI;MACF,IAAIiD,MAAM,GAAG,EAAE;MAEf,IAAI1E,QAAQ,KAAK,QAAQ,EAAE;QACzB0E,MAAM,GAAG,qDAAqDzC,MAAM,UAAU/B,WAAW,SAAS;MACpG,CAAC,MAAM,IAAIF,QAAQ,KAAK,OAAO,EAAE;QAC/B0E,MAAM,GAAG,sDAAsDzC,MAAM,UAAU/B,WAAW,SAAS;MACrG,CAAC,MAAM,IAAIF,QAAQ,KAAK,eAAe,EAAE;QACvC0E,MAAM,GAAG,uDAAuDzC,MAAM,yBAAyB/B,WAAW,SAAS;MACrH,CAAC,MAAM;QACL0C,KAAK,CAAC,wCAAwC,CAAC;QAC/C;MACF;MAEA,MAAMN,QAAQ,GAAG,MAAM7D,KAAK,CAACoF,GAAG,CAACa,MAAM,CAAC;MACxC,MAAMC,OAAO,GAAGrC,QAAQ,CAACI,IAAI,CAACiC,OAAO;MAErC,IAAIA,OAAO,CAACC,MAAM,GAAG,CAAC,EAAE;QACtBvE,gBAAgB,CAACsE,OAAO,CAAC;MAC3B,CAAC,MAAM;QACLtE,gBAAgB,CAAC,EAAE,CAAC;QACpBuC,KAAK,CAAC,mBAAmB,CAAC;MAC5B;IACF,CAAC,CAAC,OAAOD,KAAK,EAAE;MACdqB,OAAO,CAACrB,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;MAC3CC,KAAK,CAAC,sDAAsD,CAAC;IAC/D;IACAnB,YAAY,CAAC,KAAK,CAAC;EACrB,CAAC;EAED,oBACElC,OAAA,CAACZ,MAAM;IAAAkG,QAAA,eACLtF,OAAA,CAACX,MAAM;MAAAiG,QAAA,EACJ,CAACjF,eAAe,gBACfL,OAAA,CAAAE,SAAA;QAAAoF,QAAA,gBACEtF,OAAA,CAACV,KAAK;UAACiG,IAAI,EAAC,GAAG;UAACC,OAAO,eAAExF,OAAA,CAACT,QAAQ;YAACkG,EAAE,EAAC,QAAQ;YAACC,OAAO;UAAA;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAE;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAC7D9F,OAAA,CAACV,KAAK;UAACiG,IAAI,EAAC,QAAQ;UAACC,OAAO,eAAExF,OAAA,CAACR,KAAK;YAACuG,OAAO,EAAEnD;UAAY;YAAA+C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAE;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACjE9F,OAAA,CAACV,KAAK;UAACiG,IAAI,EAAC,WAAW;UAACC,OAAO,eAAExF,OAAA,CAACP,QAAQ;YAACuG,UAAU,EAAE1C;UAAe;YAAAqC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAE;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA,eAC7E,CAAC,gBAEH9F,OAAA,CAACV,KAAK;QACJiG,IAAI,EAAC,GAAG;QACRC,OAAO,eACLxF,OAAA;UAAKiG,SAAS,EAAC,KAAK;UAAAX,QAAA,gBAClBtF,OAAA;YAAAsF,QAAA,gBACEtF,OAAA,CAACN,SAAS;cACRe,QAAQ,EAAEA,QAAS;cACnBE,WAAW,EAAEA,WAAY;cACzBuE,YAAY,EAAEA,YAAa;cAC3BxE,WAAW,EAAEA;YAAY;cAAAiF,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC1B,CAAC,eACF9F,OAAA;cAAQkG,OAAO,EAAE1C,YAAa;cAAA8B,QAAA,EAAC;YAAM;cAAAK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACxC,CAAC,eACT9F,OAAA,CAACJ,aAAa;YACZiB,aAAa,EAAEA,aAAc;YAC7B6D,gBAAgB,EAAEA,gBAAiB;YACnCyB,gBAAgB,EAAEjF;UAAiB;YAAAyE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACpC,CAAC,eACF9F,OAAA,CAACH,YAAY;YACXsB,aAAa,EAAEA,aAAc;YAC7BI,WAAW,EAAEA,WAAY;YACzBF,WAAW,EAAEA;UAAY;YAAAsE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC1B,CAAC,eACF9F,OAAA,CAACF,YAAY;YACXmB,aAAa,EAAEA,aAAc;YAC7BmF,iBAAiB,EAAEA,CAAA,KAAMlF,gBAAgB,CAAC,IAAI;UAAE;YAAAyE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACjD,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC;MACN;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF;IACF;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACK;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEb,CAAC;AAAC1F,EAAA,CAzNID,GAAG;AAAAkG,EAAA,GAAHlG,GAAG;AA2NT,eAAeA,GAAG;AAAC,IAAAkG,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}